<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>X3D JSON Loader</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <!--link rel="stylesheet" type="text/css" href="https://www.x3dom.org/download/dev/x3dom.css"></link-->
    <!--script type="text/javascript" src="https://www.x3dom.org/download/dev/x3dom-full.js"></script-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/ajv/5.0.1/ajv.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/create3000/cobweb/master/stable/3/3.2/cobweb.css"/>
    <script type="text/javascript" src="https://cdn.rawgit.com/create3000/cobweb/master/stable/3/3.2/cobweb.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/ajv/5.0.1/ajv.min.js"></script>
    <style type="text/css">
    X3DCanvas {
        background:#000;
	width: 300px;
	height:150px;
    }
    table td, table td * {
        vertical-align: top;
    }
/* unvisited link */
a:link {
    color: red;
}

/* visited link */
a:visited {
    color: green;
}

/* mouse over link */
a:hover {
    color: hotpink;
}

/* selected link */
a:active {
    color: blue;
}
    </style>
</head>
<body>
<table>
<tr>
<td>
<select id="file">
<option>data/box.json</option>
<option>data/abox.json</option>
<option>data/ppp/box.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/UniversalMediaMaterials/ArtDecoExamples.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/UniversalMediaMaterials/AutumnExamples.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/UniversalMediaMaterials/GlassExamples.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/UniversalMediaMaterials/MetalsExamples.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/UniversalMediaMaterials/NeonExamples.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/UniversalMediaMaterials/RococoExamples.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/UniversalMediaMaterials/SantaFeExamples.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/UniversalMediaMaterials/SheenExamples.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/UniversalMediaMaterials/SilkyExamples.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/UniversalMediaMaterials/SpringExamples.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/UniversalMediaMaterials/SummerExamples.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/UniversalMediaMaterials/TropicalExamples.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/UniversalMediaMaterials/WinterExamples.json</option>
<option>www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Chapter31-Prototypes/Figure31.1WallColorPrototype.json</option>
<option>www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Chapter31-Prototypes/Figure31.3MaterialExternalPrototypes.json</option>
<option>www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Chapter31-Prototypes/Figure31.4WoodAppearancePrototypesLibrary.json</option>
<option>www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Chapter31-Prototypes/Figure31.5WoodAppearanceExternalPrototypes.json</option>
<option>www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Chapter31-Prototypes/Figure31.7DonutExternalPrototype.json</option>
<option>www.web3d.org/x3d/content/examples/Vrml2.0Sourcebook/Chapter31-Prototypes/Figure31.9SpinGroupPrototype.json</option>
<option>www.web3d.org/x3d/content/examples/X3dForWebAuthors/Chapter14-Prototypes/ArtDecoExamplesExcerpt.json</option>
<option>www.web3d.org/x3d/content/examples/X3dForWebAuthors/Chapter14-Prototypes/ArtDecoPrototypesExcerpt.json</option>
<option>www.web3d.org/x3d/content/examples/X3dForWebAuthors/Chapter14-Prototypes/HeadsUpDisplayExample.json</option>
<option>www.web3d.org/x3d/content/examples/X3dForWebAuthors/Chapter14-Prototypes/HeadsUpDisplayPrototype.json</option>
<option>www.web3d.org/x3d/content/examples/X3dForWebAuthors/Chapter14-Prototypes/HudKelpForest.json</option>
<option>www.web3d.org/x3d/content/examples/X3dForWebAuthors/Chapter14-Prototypes/MaterialModulator.json</option>
<option>www.web3d.org/x3d/content/examples/X3dForWebAuthors/Chapter14-Prototypes/TextStringPrototype.json</option>
<option>www.web3d.org/x3d/content/examples/X3dForWebAuthors/Chapter14-Prototypes/ViewFrustumExample.json</option>
<option>www.web3d.org/x3d/content/examples/X3dForWebAuthors/Chapter14-Prototypes/ViewFrustumPrototype.json</option>
<option>www.web3d.org/x3d/content/examples/X3dForWebAuthors/Chapter14-Prototypes/WhereAmIExample.json</option>
<option>www.web3d.org/x3d/content/examples/X3dForWebAuthors/Chapter14-Prototypes/WhereAmIPrototype.json</option>
<option>data/ArchHalf.json</option>
<option>data/ArchPrototype.json</option>
<option>data/ppp/ArchPrototype.json</option>
<option>data/CoordinateAxes.json</option>
<option>data/ExtrusionHeart.json</option>
<option>data/IcosahedronSubdivisionLevel5.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/HumanoidAnimation/NancyNativeTags.json</option>
<option>www.web3d.org/x3d/content/examples/Basic/HumanoidAnimation/NancyPrototypes.json</option>
<option>data/ppp/NancyPrototypes.json</option>
<option>data/ObliqueStrategies.json</option>
<option>data/arc.json</option>
<option>data/bubbles.json</option>
<option>data/cobweb.json</option>
<option>data/ppp/cobweb.json</option>
<option>data/createElementNSworks.json</option>
<option>data/extrusion.json</option>
<option>data/flipp.json</option>
<option>data/flowers4.json</option>
<option>data/fors.json</option>
<option>data/force.json</option>
<option>data/ppp/force.json</option>
<option>data/ppp/fors.json</option>
<option>data/geo.json</option>
<option>data/geobubbles.json</option>
<option>data/pp3.json</option>
<option>data/ppp/pp3.json</option>
<option>data/qq3.json</option>
<option>data/ppp/qq3.json</option>
<option>data/rubik.json</option>
<option>data/ppp/rubik.json</option>
<option>data/rubikFurnace.json</option>
<option>data/rubikOnFire.json</option>
<option>data/ppp/rubikOnFire.json</option>
</select>
</td>
<td>
<input type="text" onchange="filter(event)" />
Use Prototype Expander? <input id="prototype" type="checkbox" checked="true" />
Use JSON Scripts? <input id="scripting" type="checkbox" checked="true"/>
Use Namespace: <select id="namespace">
<option>http://www.web3d.org/specifications/x3d</option>
<option>http://www.w3.org/1999/xhtml</option> <!-- X3DOM XML -->
<option>https://www.x3dom.org/x3dom</option>
<option>http://www.web3d.org/specifications/x3d-namespace</option>  <!-- COBWEB -->
<option>none</option> <!-- X3DOM HTML -->
</select>
</td>
</tr>
<tr>
<td>
	Click <a onclick='updateFromJson(undefined, $("#file option:selected").text()); return false;'>here</a> to load X3D JSON text <br />
	<textarea id="json" rows="15" cols="80"></textarea><br />
	<X3DCanvas cache="false">
		<X3D >
			<Scene>
			</Scene>
		</X3D>
		<p>Your browser may not support all features required by Cobweb!</p>
	</X3DCanvas>
</td>
</tr>
</table>
</body>
    <script type="text/javascript" src="node/X3DJSONLD.js"></script>
    <script type="text/javascript" src="node/PrototypeExpander.js"></script>
    <script type="text/javascript" src="node/Flattener.js"></script>
    <script type="text/javascript" src="node/Script.js"></script>
    <script type="text/javascript" src="node/loaderJQuery.js"></script>
    <script type="text/javascript" src="node/test_json.js"></script>
    
    <script type="text/javascript">
	var url = "data/ExtrusionHeart.json";  // providing a fake path
	var xml = [], NS;
	if ($('#prototype').is(':checked')) {
		test_json = prototypeExpander(url, test_json, "");
		test_json = flattener(test_json);
	        $('textarea#json').val(JSON.stringify(test_json, null, 2));
	}
	loadX3DJS(test_json, url, xml, "", loadSchema, doValidate, function(json_element) {
		X3D(function(el){
			loadCobwebDOM(json_element, 0);  // 0 is the 0th X3DCanvas element on the page
		});
	});
	
    </script>
    
</html>
